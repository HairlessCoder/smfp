class SMPF{constructor(e){this.form=e,this.postCheck=function(e,t){return console.log(e),t},this.navLinks=[],this.atPage=0;var t=this.form.getElementsByTagName("nav");if(1==t.length){this.navLinks=t[0].getElementsByTagName("a");var s=0;for(let e of this.navLinks)0==s&&e.classList.add("navActive"),null!=e.getAttribute("href")&&(e.setAttribute("data-to",s),e.addEventListener("click",function(e){e.preventDefault(),this.checkRequired(e.target.getAttribute("data-to"))}.bind(this))),s++}this.pages=this.form.getElementsByClassName("formPage");var a=0;for(let e of this.pages){a>0&&(e.style.display="none");var i=e.getElementsByTagName("button");for(let e of i)e.getAttribute("data-nav")&&("prev"==e.getAttribute("data-nav").toLowerCase()&&(e.setAttribute("data-to",a-1),e.addEventListener("click",function(e){e.preventDefault(),this.checkRequired(e.target.getAttribute("data-to"))}.bind(this))),"next"==e.getAttribute("data-nav").toLowerCase()&&(e.setAttribute("data-to",a+1),e.addEventListener("click",function(e){e.preventDefault(),this.checkRequired(e.target.getAttribute("data-to"))}.bind(this))));a++}}checkPage(e=this.atPage){var t=!0,s=this.pages[this.atPage].querySelectorAll("[required]");for(let e of s)if(null==e.getAttribute("disabled")&&(""==e.value.trim()&&"checkbox"!=e.type&&"radio"!=e.type||"checkbox"==e.type&&0==e.checked)){if(e.classList.add("requiredMissing"),e.id){var a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.add("requiredMissing")}t=!1}else if(null==e.getAttribute("disabled")&&"radio"==e.type){var i=this.pages[this.atPage].querySelectorAll("[name="+e.getAttribute("name")+"]"),r=!1;for(let e of i)1==e.checked&&(r=!0);for(let s of i)if(0==r){if(s.classList.add("requiredMissing"),t=!1,e.id){a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.add("requiredMissing")}}else if(s.classList.remove("requiredMissing"),e.id){a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.remove("requiredMissing")}}else if(e.classList.remove("requiredMissing"),e.id){a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.remove("requiredMissing")}var l=this.pages[this.atPage].querySelectorAll("input");for(let e of l)if(""==e.value.trim()||e.checkValidity()){if(e.classList.remove("patternInvalid"),e.id){a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.remove("patternInvalid")}}else if(t=!1,e.classList.add("patternInvalid"),e.id){var a=this.pages[this.atPage].querySelectorAll("[for="+e.id+"]");for(let e of a)e.classList.add("patternInvalid")}return t=this.postCheck(e,t)}reset(e=this.atPage){var t=this.pages[e].querySelectorAll("input,select,textarea");for(let e of t)switch(e.type){case"text":case"textarea":e.value="";break;case"checkbox":case"radio":e.checked=!1;break;case"hidden":break;case"select-one":e.selectedIndex=0;break;case"select-multiple":e.selectedIndex=-1}}checkRequired(e){if(this.atPage<e){for(var t=!0;this.atPage<e&&1==t;)(t=this.checkPage(this.atPage))&&(this.navLinks[this.atPage]&&this.navLinks[this.atPage].classList.add("navCompleted"),this.atPage++);t?this.navigate(e):this.navigate(this.atPage)}else this.navigate(e)}hideAll(){for(let e of this.pages)e.style.display="none"}show(e){this.pages[e].style.display="";for(let e of this.navLinks)e.classList.remove("navActive");this.navLinks[e]&&(this.navLinks[e].classList.add("navActive"),this.navLinks[e].classList.remove("navCompleted")),this.atPage=e}navigate(e){this.hideAll(),this.show(e)}}